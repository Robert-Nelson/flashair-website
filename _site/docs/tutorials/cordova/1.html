<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>Cordova向けFlashAirアプリ開発の概要 - website</title>

    
  

  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css">
  <link rel="stylesheet" href="http://localhost:4000/assets/css/customstyles.css">
  

  
    <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Cordova向けFlashAirアプリ開発の概要 | website</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Cordova向けFlashAirアプリ開発の概要" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/docs/tutorials/cordova/1.html" />
<meta property="og:url" content="http://localhost:4000/docs/tutorials/cordova/1.html" />
<meta property="og:site_name" content="website" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/docs/tutorials/cordova/1.html","headline":"Cordova向けFlashAirアプリ開発の概要","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="http://localhost:4000" class="site-title lh-tight">FlashAir Developers</a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
    <ul class="navigation-list">
      
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
            <li class="navigation-list-item active">
              
              <a href="http://localhost:4000/docs/tutorials/cordova/1.html" class="navigation-list-link active">Cordova向けFlashAirアプリ開発の概要</a>
            </li>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            <li class="navigation-list-item">
              
              <a href="http://localhost:4000/docs/tutorials/cordova/2.html" class="navigation-list-link">コンテンツリストの取得</a>
            </li>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            <li class="navigation-list-item">
              
              <a href="http://localhost:4000/docs/tutorials/cordova/3.html" class="navigation-list-link">コンテンツのダウンロード</a>
            </li>
          
        
      
        
          
        
      
        
          
        
      
        
          
            <li class="navigation-list-item">
              
              <a href="http://localhost:4000/docs/tutorials/cordova/4.html" class="navigation-list-link">サムネイルの表示</a>
            </li>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            <li class="navigation-list-item">
              
              <a href="http://localhost:4000/docs/tutorials/cordova/5.html" class="navigation-list-link">FlashAirへのアップロード</a>
            </li>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <li>
        <br>
        <a href="./">目次に戻る</a>
      </li>
    </ul>
  </nav>
      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-000 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p>
      </footer>
    </div>
    <div class="main-content-wrap js-main-content" tabindex="0">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search website" aria-label="Search website" autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
        </div>
      </div>
      <div class="main-content">
        
          
            <nav class="breadcrumb-nav">
              <ol class="breadcrumb-nav-list">
                
                  <li class="breadcrumb-nav-list-item"><span>チュートリアル</span></li>
                  <li class="breadcrumb-nav-list-item"><span>Cordova向けチュートリアル</span></li>
                
                <li class="breadcrumb-nav-list-item"><span>Cordova向けFlashAirアプリ開発の概要</span></li>
              </ol>
            </nav>
          
        
        <div id="main-content" class="page-content" role="main">
          <h1 id="cordova向けflashairアプリ開発の概要">Cordova向けFlashAirアプリ開発の概要</h1>

<p><a href="https://cordova.apache.org/" target="_blank">Apache Cordova</a>は、オープンソースのモバイル開発フレームワークで、HTML、CSS、JavaScriptなどのウェブアプリケーション開発の技術でモバイルアプリケーションを開発することができます。
このシリーズでは、Cordovaを使ってFlashAirにアクセスするアプリを開発していきます。
第1回はCordovaの開発環境を構築し、デフォルトで用意されているHelloWorldアプリをAndroidやiOSデバイスで動かすところまで説明します。</p>

<hr />
<h2 id="準備">準備</h2>

<h3 id="1-開発環境の準備">1. 開発環境の準備</h3>

<p>Cordovaでアプリを開発するには、各モバイルプラットフォームを対象としているSDKをインストールする必要があります。<br />
詳しくは<a href="https://cordova.apache.org/docs/ja/latest/guide/platforms/index.html" target="_blank">こちら</a>をご覧ください。</p>

<p>iOSアプリをAppStoreで公開する場合には、Apple Developer Licenseへの参加が必要になります。<br />
詳しくは、<a href="https://developer.apple.com/jp/" target="_blank">Apple社のサイト</a>をご覧ください。</p>

<p>AndroidアプリをGoogle Playなどのアプリストアで公開する場合には、それぞれのストアへの登録が必要となります。<br />
Google Playへの登録は<a href="http://developer.android.com/distribute/index.html" target="_blank">Distribute App | Android Developers</a>をご覧ください。</p>

<h3 id="2-flashair実機の入手">2. FlashAir実機の入手</h3>

<p>作ったアプリを動かしてみるには、FlashAir SDメモリカードが必要になります。
家電量販店やネット通販で購入できます。</p>

<h3 id="3-補足-開発をよりスムーズにするために">3. 補足: 開発をよりスムーズにするために</h3>

<h5 id="ステーションモード">ステーションモード</h5>
<p>デバイスがFlashAirと通信中の場合、無線LAN経由でインターネットへアクセスすることはできなくなるため、調べものなどが不便になります。通常、FlashAirは無線LAN親機（アクセスポイント）として動作していますが、FlashAirをステーション(STAモード)に設定すると、FlashAirは無線LAN子機（ステーション）として、他の無線LAN親機（アクセスポイント）に接続することができるようになります。開発に使用しているマシンとFlashAirを同じ無線LAN親機に接続すると、FlashAirにアクセスしながらインターネットへアクセスすることも出来るので、開発中はSTAモードが便利です。<br />
詳しくは<a href="../advanced/1/">上級者向けチュートリアル / ステーションモード</a>を参照してください。</p>
<h5 id="無線lan接続タイムアウト時間の変更">無線LAN接続タイムアウト時間の変更</h5>
<p>FlashAirは電力節約のため、しばらく通信がないと無線LANの電源を停止します。 開発中はしばしばそのようなことが発生するため、接続タイムアウトを大きな値に変更しておくと便利です。<br />
詳しくは<a href="../../api/config/#appautotime">CONFIGリファレンス / 接続タイムアウト時間の設定</a>を参照してください。&lt;/dd&gt;</p>

<hr />
<h2 id="cordovaのインストール">Cordovaのインストール</h2>

<h3 id="1-nodejsをインストールする">1. Node.jsをインストールする</h3>

<p>Cordovaのインストールには、npmが必要になります。 npmはNode.jsと一緒にインストールされます。 Node.jsのインストーラは<a href="https://nodejs.org/ja/" target="_blank">公式ページ</a>から入手できます。 インストール完了後、以下のコマンドが実行できるか確認してください。バージョン情報が返ってくれば正しくインストールされています。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; npm -v
3.10.10
</code></pre></div></div>

<h3 id="2-cordovaをインストールする">2. Cordovaをインストールする</h3>

<p>次に以下のコマンドを実行して、Cordovaをインストールします。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; npm install -g cordova
</code></pre></div></div>

<p>インストール完了後、以下のコマンドが実行できるか確認してください。バージョン情報が返ってくれば正しくインストールされています。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; cordova -v
6.5.0
</code></pre></div></div>

<hr />
<h2 id="helloworldアプリの作成と確認">HelloWorldアプリの作成と確認</h2>

<h3 id="1-cordovaプロジェクトを作成する">1. Cordovaプロジェクトを作成する</h3>

<p>まず始めに、HelloWorldアプリのプロジェクトを作成します。 プロジェクトを作成したいディレクトリへ移動し、以下のコマンドを実行します。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; cordova create sample com.fixstars.flashair.tutorial HelloWorld
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">sample</code>はプロジェクトのデータを格納するディレクトリ名になります。</li>
  <li><code class="highlighter-rouge">com.fixstars.flashair.tutorial</code>はアプリの識別子になります。</li>
  <li><code class="highlighter-rouge">HelloWorld</code>は作成するアプリ名になります。</li>
  <li>上記３箇所についてはそれぞれ名前を任意に設定することができます。</li>
</ul>

<p>作成したプロジェクトの中身を確認すると以下の構成になっています。</p>

<pre>
sample  
├─ hooks
│   └─ README.md
├─ platforms
├─ plugins
├─ www
│   ├─ css
│   │   └─ index.css
│   ├─ img
│   │   └─ logo.png
│   ├─ js
│   │   └─ index.js
│   └─ index.html
└─ config.xml
</pre>

<p>実際にアプリを開発していく際には、<code class="highlighter-rouge">www</code>ディレクトリ以下に、HTML、CSS、JavaScriptを記述して開発していきます。</p>

<h3 id="2-browserプラットフォームを追加してローカル上のブラウザでアプリの動作確認を行う">2. browserプラットフォームを追加して、ローカル上のブラウザでアプリの動作確認を行う</h3>

<p>デバイスで動かす前にローカル上のブラウザで動作確認できるようにする為、browserプラットフォームを追加します。
追加方法は作成したプロジェクトのディレクトリ（上記例の場合、<code class="highlighter-rouge">sample</code>）へ移動し、以下のコマンドを実行します。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; cordova platform add browser -save
</code></pre></div></div>

<p>追加後に以下のコマンドを実行することで、追加したプラットフォームとそのバージョンが確認できます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; cordova platform ls
Installed platforms:
  browser 4.1.0
</code></pre></div></div>

<p>そして以下のコマンドを実行することで、その下にある画面のように、自動的にローカル上のブラウザが立ち上がりアプリの動作確認ができます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; cordova run browser
</code></pre></div></div>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_browser.png" alt="ブラウザプラットフォーム" class="d-block img-thumbnail" /></p>

<hr />
<h2 id="helloworldアプリのビルドとデバイスへのインストール">HelloWorldアプリのビルドとデバイスへのインストール</h2>

<h3 id="1-phonegap-buildの利用について">1. PhoneGap Buildの利用について</h3>

<p>Cordovaにはローカル上でビルドできるようにbuildコマンドが用意されていますが、実行するにはAndroidプラットフォームでAndroid SDKが、iOSプラットフォームでXcodeがそれぞれ必要となります。また、Xcodeの実行にはMacが必要であり、それ以外の開発環境ではiOSプラットフォーム向けのビルドはできません。 そこでこのチュートリアルでは、Cordova (PhoneGap)アプリをクラウド上でビルドできるサービスである「Adobe <sup>®</sup> PhoneGap™ Build」を利用していきます。</p>

<h3 id="2-phonegap-buildのアカウントを作成する">2. PhoneGap Buildのアカウントを作成する</h3>

<p>まず、<a href="https://build.phonegap.com/" target="_blank">PhoneGap Build</a>へアクセスしログインします。 尚、ログイン時に選択するプランは無料、有料、Adove Creative Cloud メンバーシップと3つありますが、いずれの場合もAdobe IDが必要になりますので、所有していない場合は作成してください。</p>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_phonegapbuild_plan.png" alt="PhoneGap Buildのプラン選択" class="d-block img-thumbnail" /></p>

<h3 id="3-iosプラットフォームの証明書キーを登録する">3. iOSプラットフォームの証明書キーを登録する</h3>

<p>iOSプラットフォームは証明書キーが登録されていないとビルドされませんので、先に証明書キーの登録を行います。 登録は以下の画面の「Edit account」から行います。</p>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_edit_account.png" alt="アカウント設定画面へ移動" class="d-block img-thumbnail" /></p>

<p>「Edit account」画面へ切り替わった後は「Signing Keys」タブへ切り替えて、iOSプラットフォームの「add a key …」ボタンを押下します。
そして「title」に任意の名前を付けて、登録するp12形式ファイルとプロビジョニングファイルを選択します。
尚、p12形式ファイルとプロビジョニングプロファイルの作成にはApple Developer Programへの登録が必要になります。登録して用意してください。 最後に「submit
key」ボタンを押下してください。すると、証明書キーの読み込みが始まります。</p>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_certificate_select.png" alt="証明書キー選択" class="d-block img-thumbnail" /></p>

<p>読み込み完了後、以下の画面のように登録した証明書キーの「default」のラジオボタンを選択し、「status」内の「certificate
password」に先程登録したp12形式ファイルのパスワードを入力します。
そして、「submit key」ボタンを押下しパスワードが正しく認識されると、証明書キーの登録は完了です。</p>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_certificate_password.png" alt="証明書キーのパスワード入力" class="d-block img-thumbnail" /></p>

<h3 id="4-helloworldアプリをビルドする">4. HelloWorldアプリをビルドする</h3>

<p>証明書キーの登録が完了すると、いよいよアプリのビルドに移ります。まず、画面上部のAppsボタンを押下して最初のアプリの追加画面へ戻り、「+ new app」ボタンを押下します。</p>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_new_app.png" alt="新規作成" class="d-block img-thumbnail" /></p>

<p>次に、「private」タブへ切り替えて「Upload a .zip file」を押下し、上記で作成したHelloWorldアプリのプロジェクトデータをアップロードするのですが、ここで一つ注意点があります。
PhoneGap Buildへアップロードするデータ形式は決まっており（詳細はAdobe PhoneGapの <a href="http://docs.phonegap.com/phonegap-build/getting-started/app-project-structure/#cli-project" target="_blank">App Project Structure</a>をご確認ください）、 HelloWorldアプリでは<code class="highlighter-rouge">www</code>ディレクトリと<code class="highlighter-rouge">config.xml</code>ファイルのみが必要となります。従って、新規に作成したディレクトリの中に<code class="highlighter-rouge">www</code>ディレクトリと<code class="highlighter-rouge">config.xml</code>ファイルを入れzipファイル化し、そのzipファイルをプロジェクトデータとしてアップロードすることになります。</p>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_upload_zip.png" alt="プロジェクトをアップロード" class="d-block img-thumbnail" /></p>

<p>zipファイルのアップロード完了後、正しく読み込まれると以下の画面に切り替わりますので、「Ready to build」ボタンを押下します。</p>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_build_start.png" alt="ビルドスタート" class="d-block img-thumbnail" /></p>

<p>その後、各プラットフォーム毎に自動的にアプリのビルドが開始されます。 そしてビルドが成功すると以下のように各プラットフォームのボタンが青緑色の表示になります。 ※ビルドに失敗した場合は赤色の表示になります。</p>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_build_end.png" alt="ビルド完了" class="d-block img-thumbnail" /></p>

<h3 id="5-各プラットフォームのデバイスにhelloworldアプリをインストールして起動する">5. 各プラットフォームのデバイスにHelloWorldアプリをインストールして起動する</h3>

<p>ビルド完了後、上記の画面においてアプリ名を押下すると、以下の画面へ切り替わります。
各プラットフォームのデバイスへのインストールは、対象のデバイスでこの画面のQRコードを読み取るか、ブラウザでこの画面へアクセスし「Install」ボタンをタップすることで開始できます。
Androidデバイスの場合はapkファイルがダウンロードされるだけとなりますので、「設定」 &gt; 「セキュリティ」 &gt; 「提供元不明のアプリ」
の項目をONにした状態で、ダウンロードされたapkファイルをタップするとインストールが開始されます。</p>

<p><img src="/assets/images/tutorials/cordova_tutorial_01_install.png" alt="アプリのインストール" class="d-block img-thumbnail" /></p>

<p>以下のようにインストール完了後、アプリをタップすると、ブラウザで確認したときと同じHelloWorldアプリの画面が表示されます。</p>

<h3 id="androidデバイスの場合">Androidデバイスの場合</h3>

<div class="row">
  <div class="col-md-6">
    <div class="m-3">
      <img src="/assets/images/tutorials/cordova_tutorial_01_android_home.png" alt="androidデバイスのホーム画面" class="d-block img-thumbnail" />
    </div>
  </div>

  <div class="col-md-6">
    <div class="m-3">
      <img src="/assets/images/tutorials/cordova_tutorial_01_android_app.png" alt="androidデバイスのアプリ画面" class="d-block img-thumbnail" />
    </div>
  </div>
</div>

<h3 id="iosデバイスの場合">iOSデバイスの場合</h3>

<div class="row">
  <div class="col-md-6">
    <div class="m-3">
      <img src="/assets/images/tutorials/cordova_tutorial_01_ios_home.png" alt="iOSデバイスのホーム画面" class="d-block img-thumbnail" />
    </div>
  </div>

  <div class="col-md-6">
    <div class="m-3">
      <img src="/assets/images/tutorials/cordova_tutorial_01_ios_app.png" alt="iOSデバイスのアプリ画面" class="d-block img-thumbnail" />
    </div>
  </div>
</div>


          
        </div>
      </div>
    </div>
  </div>

</body>
</html>
