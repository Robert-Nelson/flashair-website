<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>サーバーアップロードコマンド - website</title>

    
  

  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css">
  <link rel="stylesheet" href="http://localhost:4000/assets/css/customstyles.css">
  

  
    <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>サーバーアップロードコマンド | website</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="サーバーアップロードコマンド" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/docs/api/reference/upload.html" />
<meta property="og:url" content="http://localhost:4000/docs/api/reference/upload.html" />
<meta property="og:site_name" content="website" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/docs/api/reference/upload.html","headline":"サーバーアップロードコマンド","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="http://localhost:4000" class="site-title lh-tight">FlashAir Developers</a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    <li class="navigation-list-item">          
      <a href="/docs/api/command.cgi.html" class="navigation-list-link">command.cgi</a>
    </li>
    <li class="navigation-list-item">
      <a href="/docs/api/config.cgi.html" class="navigation-list-link">config.cgi</a>
    </li>        
    <li class="navigation-list-item">          
      <a href="/docs/api/thumbnail.cgi.html" class="navigation-list-link">thumbnail.cgi</a>
    </li>        
    <li class="navigation-list-item">            
      <a href="/docs/api/upload.cgi.html" class="navigation-list-link">upload.cgi</a>
    </li>      
    <li class="navigation-list-item">            
      <a href="/docs/api/CONFIG.html" class="navigation-list-link">CONFIG</a>
    </li>        
    <li class="navigation-list-item">            
      <a href="/docs/api/utility.html" class="navigation-list-link">ブラウザユーティリティ</a>
    </li>             
    <li class="navigation-list-item">            
      <a href="/docs/api/lua.html" class="navigation-list-link">Lua機能</a>
    </li>
    <li class="navigation-list-item active">            
      <a href="/docs/api/isdio.html" class="navigation-list-link active">iSDIO</a>
    </li>
    <li>
      <br>
      <a href="/docs/api/isdio">iSDIOトップに戻る</a>
    </li>
  </ul>
</nav>
      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-000 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p>
      </footer>
    </div>
    <div class="main-content-wrap js-main-content" tabindex="0">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search website" aria-label="Search website" autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
        </div>
      </div>
      <div class="main-content">
        
          
            <nav class="breadcrumb-nav">
              <ol class="breadcrumb-nav-list">
                
                  <li class="breadcrumb-nav-list-item"><span>iSDIO</span></li>
                  <li class="breadcrumb-nav-list-item"><span>コマンドリファレンス</span></li>
                
                <li class="breadcrumb-nav-list-item"><span>サーバーアップロードコマンド</span></li>
              </ol>
            </nav>
          
        
        <div id="main-content" class="page-content" role="main">
          <h1 id="サーバーアップロードコマンド">サーバーアップロードコマンド</h1>

<table>
<thead>
	<tr>
		<th>コマンドID</th>
		<th>コマンド名</th>
		<th>機能</th>
	</tr>
</thead>
	<tbody>
		<tr>
			<td>0021h</td>
			<td><a href="#SendHTTPMessageByRegister">SendHTTPMessageByRegister(hostName, message)</a></td>
			<td rowspan="8">指定したサーバーにHTTPリクエストを送信<br />
				<h5><strong>SendHTTPMessage～：</strong></h5>
				文字データのみのリクエストを発行
				<h5><strong>SendHTTPFile～：</strong></h5>
				ファイルを添付してリクエストを発行
				<h5><strong>SendHTTPSSL～：</strong></h5>
				SSLによる暗号化通信を使用
				<h5><strong>～ByRegister: </strong></h5>
				リクエストデータをメモリから読み込み
				<h5><strong>～ByFile: </strong></h5>
				リクエストデータをファイルから読み込み
			</td>
		</tr>
		<tr>
			<td>0022h</td>
			<td><a href="#SendHTTPFileByRegister">SendHTTPFileByRegister(hostName, appendFileName, message)</a></td>
		</tr>
		<tr>
			<td>0023h</td>
			<td><a href="#SendHTTPSSLMessageByRegister">SendHTTPSSLMessageByRegister(hostName, message)</a></td>
		</tr>
		<tr>
			<td>0024h</td>
			<td><a href="#SendHTTPSSLFileByRegister">SendHTTPSSLFileByRegister(hostName, appendFileName, message)</a></td>
		</tr>
		<tr>
			<td>0025h</td>
			<td><a href="#SendHTTPMessageByFile">SendHTTPMessageByFile(hostName, messageFileName, headerRemoval)</a></td>
		</tr>
		<tr>
			<td>0026h</td>
			<td><a href="#SendHTTPFileByFile">SendHTTPFileByFile(hostName, messageFileName, appendFileName, headerRemoval)</a></td>
		</tr>
		<tr>
			<td>0027h</td>
			<td><a href="#SendHTTPSSLMessageByFile">SendHTTPSSLMessageByFile(hostName, messageFileName, headerRemoval)</a></td>
		</tr>
		<tr>
			<td>0028h</td>
			<td><a href="#SendHTTPSSLFileByFile">SendHTTPSSLFileByFile(hostName, messageFileName, appendFileName, headerRemoval)</a></td>
		</tr>
		<tr>
			<td>0029h</td>
			<td><a href="#SetCertificate">SetCertificate(certificate)</a></td>
			<td></td>
		</tr>
		<tr>
			<td>002Ah</td>
			<td><a href="#SetCertificateByFile">SetCertificateByFile(certificateFileName)</a></td>
			<td></td>
		</tr>
	</tbody>
</table>

<hr />
<h2 id="SendHTTPMessageByRegister">SendHTTPMessageByRegister(hostName, message)</h2>

<p>特定のサーバにHTTPリクエストメッセージを送るためのホストリクエストです。</p>

<p>HTTPリクエストラインとHTTPメッセージヘッダー、HTTPメッセージボディで構成されるHTTPリクエストメッセージを、ホストは準備します。(optional in [HTTP]).（★1）　</p>

<p>すると、HTTPレスポンスラインとHTTPメッセージヘッダー、HTTPメッセージボディ(optional in [HTTP]) で構成されるHTTPレスポンスメッセージをFlashAirはサーバより受信します。2.3 Server Uploadを参照してください。（★2）</p>

<h3 id="コマンドid">コマンドID</h3>

<p>0021h</p>

<h3 id="引数">引数</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Size</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ホスト名</td>
      <td>ASCII</td>
      <td>変数</td>
      <td><code class="highlighter-rouge">hostName</code>はHTTPリクエストメッセージが送信されHTTPレスポンスメッセージを受信するホスト名を意味します。プロキシサーバが使用される場合を除いて、ポート番号は”80”が使われます。値はNull値で終了しません。（★3）</td>
    </tr>
    <tr>
      <td>message</td>
      <td>Binary data</td>
      <td>Variable</td>
      <td><code class="highlighter-rouge">message</code>はHTTPリクエストラインとHTTPメッセージヘッダー、HTTPメッセージボディで構成されるHTTPリクエストメッセージを意味します。（★4）</td>
    </tr>
  </tbody>
</table>

<h3 id="レスポンス">レスポンス</h3>

<p>受信したHTTPレスポンスメッセージは、コマンドレスポンスデータのレスポンスデータから取得可能です。2.2.2.3 iSDIO Command Response Data in [iSDIO]を参照してください。（★5）</p>

<hr />
<h2 id="SendHTTPFileByRegister">SendHTTPFileByRegister(hostName, appendFileName, message)</h2>

<p>HTTPリクエストメッセージをファイルを添付して特定のサーバに送るためのホストリクエストです。</p>

<p>（★1と同じ） さらにサーバへメッセージが送信される際、FlashAirはメッセージ内の事前に定義された文字を特定のファイルに置き換えます。</p>

<p>（★2と同じ）</p>

<h3 id="コマンドid-1">コマンドID</h3>

<p>0022h</p>

<h3 id="引数-1">引数</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Size</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>hostName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★3と同じ）</td>
    </tr>
    <tr>
      <td>appendFileName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td><code class="highlighter-rouge">appendFileName</code>は、NANDメモリモジュール内のアペンドファイルのルートディレクトリからサーバに送信されるファイル名とファイルパッチを意味します。例”/DCIM/100XXXXX/YYYY1234.JPG”値はNull値で終了しません。（★8）</td>
    </tr>
    <tr>
      <td>message</td>
      <td>Binary data</td>
      <td>Variable</td>
      <td>（★4と同じ）</td>
    </tr>
  </tbody>
</table>

<h3 id="レスポンス-1">レスポンス</h3>

<p>（★5と同じ）</p>

<hr />
<h2 id="SendHTTPSSLMessageByRegister">SendHTTPSSLMessageByRegister(hostName, message)</h2>

<p>このコマンドの定義は、 FlashAirにSSL経由でHTTPメッセージをリクエストする以外は、”SendHTTPMessageByRegister(hostName, message)”と同じです。プロキシサーバが使用される場合を除いて、ポート番号443が使われます。</p>

<p>このコマンドを実行する前に、”SetCertificate”または”SetCertificateByFile”コマンドでルート認証を設定することが推奨されています。ルート認証を設定せずにコマンドを実行した場合、ルート認証によるサーバ証明書を認証しないまま、FlashAirはこのコマンドを実行します。（★6）</p>

<p>サーバ証明書がルート認証によって認証されない場合、レスポンスステータスが”85h: SSL certification error”となり、このコマンドの実行は失敗となります。（★7）</p>

<h3 id="コマンドid-2">コマンドID</h3>

<p>0023h</p>

<h3 id="引数-2">引数</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Size</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>hostName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★3と同じ）</td>
    </tr>
    <tr>
      <td>message</td>
      <td>Binary data</td>
      <td>Variable</td>
      <td>（★4と同じ）</td>
    </tr>
  </tbody>
</table>

<h3 id="レスポンス-2">レスポンス</h3>

<p>無し</p>

<hr />
<h2 id="SendHTTPSSLFileByRegister">SendHTTPSSLFileByRegister(hostName, appendFileName, message)</h2>

<p>このコマンドの定義は、 FlashAirにSSL経由でHTTPメッセージをリクエストする以外は、”SendHTTPMessageByRegister(hostName, message)”と同じです。プロキシサーバが使用される場合を除いて、ポート番号443が使われます。（★13）</p>

<p>（★6と同じ）</p>

<p>（★7と同じ）</p>

<h3 id="コマンドid-3">コマンドID</h3>

<p>0024h</p>

<h3 id="引数-3">引数</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Size</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>hostName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★3と同じ）</td>
    </tr>
    <tr>
      <td>appendFileName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★8と同じ）</td>
    </tr>
    <tr>
      <td>message</td>
      <td>Binary data</td>
      <td>Variable</td>
      <td>（★4と同じ）</td>
    </tr>
  </tbody>
</table>

<h3 id="レスポンス-3">レスポンス</h3>

<p>無し</p>

<hr />
<h2 id="SendHTTPMessageByFile">SendHTTPMessageByFile(hostName, messageFileName, headerRemoval)</h2>

<p>特定のサーバにHTTPリクエストメッセージを送るためのホストリクエストです。</p>

<p>コマンドが実行される前に、HTTPリクエストラインとHTTPメッセージヘッダー、HTTPメッセージボディで構成されるHTTPリクエストメッセージを、ホストはメッセージファイルとしてNANDメモリモジュールに保存します。（★9）</p>

<p>すると、HTTPレスポンスラインとHTTPメッセージヘッダー、HTTPメッセージボディ(optional in [HTTP])から構成されるHTTPレスポンスメッセージをFlashAirがサーバから受信し、”RESPONSE” ディレクトリの下に”iSDIO command sequence id”のファイル名で保存します。もしこのファイルが存在した場合、上書きして保存されます。HTTPリクエストラインとHTTPメッセージヘッダーを除くよう、ホストがリクエストした場合、HTTPメッセージボディのみがレスポンスファイルとして保存されます。2.3 Server Uploadを参照してください。 Capability Register内の”Max Size of Command Response Data”による制限は、このコマンドによって作られるレスポンスファイルのサイズに適用されません。（★10）</p>

<h3 id="コマンドid-4">コマンドID</h3>

<p>0025h</p>

<h3 id="引数-4">引数</h3>

<table>
	<thead>
		<tr>
			<th>Name</th>
			<th>Type</th>
			<th>Size</th>
			<th>説明</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>hostName</td>
			<td>ASCII character</td>
			<td>Variable</td>
			<td>（★3と同じ）</td>
		</tr>
		<tr>
			<td>messageFileName</td>
			<td>ASCII character</td>
			<td>Variable</td>
			<td><code>messageFileName</code>は、NANDメモリモジュール内のメッセージファイルのルートディレクトリから送られ？、HTTPリクエストラインとHTTPメッセージヘッダー、HTTPメッセージボディで構成されるファイル名とファイルパッチを意味します。例 "/REQUEST/MESSAGE1.TXT"。 値はNull値で終了しません。（★11）</td>
		</tr>
		<tr>
			<td>headerRemoval</td>
			<td>integer</td>
			<td>1-byte</td>
			<td><code>headerRemoval</code>はHTTPヘッダーを除くことに関して意味します。
				<dl>
					<dt>00h</dt>
					<dd>
						HTTPレスポンスメッセージはそのまま保存されます。
					</dd>
					<dt>01h</dt>
					<dd>
						HTTPヘッダーを除くことにより、HTTPメッセージボディのみ保存されます。（★12）
					</dd>
				</dl>
			</td>
		</tr>
	</tbody>
</table>

<h3 id="レスポンス-4">レスポンス</h3>

<p>無し</p>

<hr />
<h2 id="SendHTTPFileByFile">SendHTTPFileByFile(hostName, messageFileName, appendFileName, headerRemoval)</h2>

<p>ファイルを添付して、HTTPリクエストメッセージを特定のサーバに送るためのホストリクエストです。（★9と同じ） メッセージがサーバへ送信されると、FlashAirはメッセージ内の事前に定義した文字 (例: “<!--WLANSDFILE-->” in [ISO 8859-1]) を特定のファイルに変換します。</p>

<p>（★10と同じ）</p>

<h3 id="コマンドid-5">コマンドID</h3>

<p>0026h</p>

<h3 id="引数-5">引数</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Size</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>hostName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★3と同じ）</td>
    </tr>
    <tr>
      <td>messageFileName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★11と同じ）</td>
    </tr>
    <tr>
      <td>appendFileName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★8と同じ）</td>
    </tr>
    <tr>
      <td>headerRemoval</td>
      <td>integer</td>
      <td>1-byte</td>
      <td>（★12と同じ）</td>
    </tr>
  </tbody>
</table>

<h3 id="レスポンス-5">レスポンス</h3>

<p>無し</p>

<hr />
<h2 id="SendHTTPSSLMessageByFile">SendHTTPSSLMessageByFile(hostName, messageFileName, headerRemoval)</h2>

<p>（★13とほぼ同じ　”SendHTTPMessageByFile (hostName, messageFileName, headerRemoval)） （★6と同じ）（★7と同じ） (i.e. Response Status becomes “85h: SSL certification error”).</p>

<h3 id="コマンドid-6">コマンドID</h3>

<p>0027h</p>

<h3 id="引数-6">引数</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Size</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>hostName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★3と同じ）</td>
    </tr>
    <tr>
      <td>messageFileName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★11と同じ）</td>
    </tr>
    <tr>
      <td>headerRemoval</td>
      <td>integer</td>
      <td>1-byte</td>
      <td>（★12と同じ）</td>
    </tr>
  </tbody>
</table>

<h3 id="レスポンス-6">レスポンス</h3>

<p>無し</p>

<hr />
<h2 id="SendHTTPSSLFileByFile">SendHTTPSSLFileByFile(hostName, messageFileName, appendFileName, headerRemoval)</h2>

<p>（★13とほぼ同じ　”SendHTTPFileByFile (hostName, messageFileName, appendFileName, headerRemoval)”）</p>

<p>（★6と同じ）</p>

<p>（★7と同じ） (i.e. Response Status becomes “85h: SSL certification error”).</p>

<h3 id="コマンドid-7">コマンドID</h3>

<p>0028h</p>

<h3 id="引数-7">引数</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Size</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>hostName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★3と同じ）</td>
    </tr>
    <tr>
      <td>messageFileName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★11と同じ）</td>
    </tr>
    <tr>
      <td>appendFileName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>（★8と同じ）</td>
    </tr>
    <tr>
      <td>headerRemoval</td>
      <td>integer</td>
      <td>1-byte</td>
      <td>（★12と同じ）</td>
    </tr>
  </tbody>
</table>

<h3 id="レスポンス-7">レスポンス</h3>

<p>無し</p>

<hr />
<h2 id="SetCertificate">SetCertificate(certificate)</h2>

<p>HTTPS接続のためルート認証を行います。このコマンド実行後、FlashAirは付与されたHTTPS接続の証明書を使用します。ルート認証がすでに行われている場合は、現在の証明書は無効となり、FlashAirは新しく設定されたものを使用します。</p>

<h3 id="コマンドid-8">コマンドID</h3>

<p>0029h</p>

<h3 id="引数-8">引数</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Size</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>certificate</td>
      <td>Binary data</td>
      <td>Variable</td>
      <td><code class="highlighter-rouge">certificate</code>はDER (Distinguished Encoding Rules)によるX.509バイナリです。<br />“Length of Argument”を”00 00 00 00h”に設定した場合、この値は無視できます。無視した場合は、FlashAirは現在の証明書を無効にし、デフォルトの設定に戻ります。（★14）</td>
    </tr>
  </tbody>
</table>

<h3 id="レスポンス-8">レスポンス</h3>

<p>無し</p>

<hr />
<h2 id="SetCertificateByFile">SetCertificateByFile(certificateFileName)</h2>

<p>HTTPS接続のためNANDメモリモジュール内に保存されたファイルをルート認証に設定します。このコマンド実行後、このコマンド実行後、FlashAirは付与されたHTTPS接続の証明書を使用します。ルート認証がすでに行われている場合は、現在の証明書は無効となり、FlashAirは新しく設定されたものを使用します。</p>

<h3 id="コマンドid-9">コマンドID</h3>

<p>002Ah</p>

<h3 id="引数-9">引数</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Size</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>certificateFileName</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td>接続するためのAPのSSIDです。値はNull値で終了しません。</td>
    </tr>
    <tr>
      <td>networkKey</td>
      <td>ASCII character</td>
      <td>Variable</td>
      <td><code class="highlighter-rouge">certificateFileName</code>は、NANDメモリモジュール内の認証ファイルのルートディレクトリからサーバに送信されるファイル名とファイルパッチを意味します。例 “/ABCDEF.CRT” 値はNull値で終了しません。（★8と似ている）<br /> 証明ファイルはDER (Distinguished Encoding Rules)によるX.509バイナリです。(Distinguished Encoding Rules).<br />（★14と同じ）</td>
    </tr>
  </tbody>
</table>

<h3 id="レスポンス-9">レスポンス</h3>

<p>無し</p>


          
        </div>
      </div>
    </div>
  </div>

</body>
</html>
